<%- include('../partials/header') %>
    <link rel="stylesheet" href="<%=process.env.BASE_URL%>/shepherd.css" />

    <div>
        <div class="container">
            <div class="row">

                <div class="col-8" style="height: 100%;">
                    <div class="chart-div">
                        <div class="iq-card iq-card-block iq-card-stretch iq-card-height overflow-hidden wow fadeInUp"
                            data-wow-delay="0.6s">
                            <div class="iq-card-header d-flex justify-content-between">
                                <div class="iq-header-title">
                                    <h4 class="card-title">Productivity</h4>
                                </div>
                                <div class="iq-card-header-toolbar d-flex align-items-center">
                                    <ul class="nav nav-pills">
                                        <li class="nav-item">
                                            <a href="#" class="nav-link active">All Time</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#" class="nav-link">This Year</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#" class="nav-link">This Week</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#" class="nav-link">Today</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="iq-card-body p-0">

                                <div id="chart-11"></div>
                            </div>
                        </div>


                    </div>
                </div>

                <div class="col">
                    <div class="iq-card">
                        <div class="iq-card-header d-flex justify-content-between">
                            <div class="iq-header-title">
                                <h4 class="card-title">Today's Timeline</h4>
                            </div>
                            <div class="iq-card-header-toolbar d-flex align-items-center">
                                <div class="dropdown">
                                    <span class="dropdown-toggle text-primary" id="dropdownMenuButton4"
                                        data-toggle="dropdown">
                                        View All
                                    </span>
                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                        <a class="dropdown-item" href="#"><i class="ri-eye-fill mr-2"></i>View</a>
                                        <a class="dropdown-item" href="#"><i
                                                class="ri-delete-bin-6-fill mr-2"></i>Delete</a>
                                        <a class="dropdown-item" href="#"><i class="ri-pencil-fill mr-2"></i>Edit</a>
                                        <a class="dropdown-item" href="#"><i class="ri-printer-fill mr-2"></i>Print</a>
                                        <a class="dropdown-item" href="#"><i
                                                class="ri-file-download-fill mr-2"></i>Download</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="iq-card-body">
                            <ul class="iq-timeline">
                                <li>
                                    <div class="timeline-dots"></div>
                                    <h6 class="float-left mb-1">Lorem Ipsum</h6>
                                    <small class="float-right mt-1">24 Nov 2021</small>
                                    <div class="d-inline-block w-100">
                                        <p>Bonbon macaroon jelly beans gummi bears jelly lollipop apple</p>
                                    </div>
                                </li>
                                <li>
                                    <div class="timeline-dots border-success"></div>
                                    <h6 class="float-left mb-1">Lorem Ipsum</h6>
                                    <small class="float-right mt-1">24 Nov 2021</small>
                                    <div class="d-inline-block w-100">
                                        <p>Bonbon macaroon jelly beans gummi bears jelly lollipop apple</p>
                                    </div>
                                </li>
                                <li>
                                    <div class="timeline-dots border-danger"></div>
                                    <h6 class="float-left mb-1">Lorem Ipsum</h6>
                                    <small class="float-right mt-1">24 Nov 2021</small>
                                    <div class="d-inline-block w-100">
                                        <p>Bonbon macaroon jelly beans gummi bears gummi bears jelly lollipop apple
                                        </p>
                                    </div>
                                </li>
                                <li>
                                    <div class="timeline-dots border-primary"></div>
                                    <h6 class="float-left mb-1">Lorem Ipsum</h6>
                                    <small class="float-right mt-1">24 Nov 2021</small>
                                    <div class="d-inline-block w-100">
                                        <p>Bonbon macaroon jelly beans gummi bears jelly lollipop apple</p>
                                    </div>
                                </li>

                            </ul>
                        </div>
                    </div>
                </div>

            </div>

        </div>

    </div>
    <div class="container">
        <div class="row">
            <div class="col-8">
                <div class="iq-card iq-card-block iq-card-stretch iq-card-height overflow-hidden wow fadeInUp"
                    data-wow-delay="0.6s">
                    <div class="iq-header-title">
                        <h4 class="card-title">Projects Progress</h4>
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col">
                                <div class="project-name">
                                    <span>Project 1</span>
                                </div>
                                <div class="project-name">
                                    <span>Project 2</span>
                                </div>
                                <div class="project-name">
                                    <span>Project 3</span>
                                </div>
                                <div class="project-name">
                                    <span>Project 4</span>
                                </div>
                            </div>
                            <div class="col-10">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 10%"
                                        aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped bg-success" role="progressbar"
                                        style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped bg-info" role="progressbar"
                                        style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped bg-warning" role="progressbar"
                                        style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col">
                <ul class="notes-div">
                    <li>
                        <a href="#" contenteditable>
                            <h2>Sticky Note:</h2>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

    </div>
    </section>


    <script src="<%=process.env.BASE_URL%>/shepherd.min-new.js"></script>

    <script>
        const tour = new Shepherd.Tour({
            defaultStepOptions: {
                cancelIcon: {
                    enabled: true
                },
                classes: 'class-1 class-2',
                scrollTo: { behavior: 'smooth', block: 'center' }
            }
        });

        tour.addStep({
            title: 'Welcome to Collab',
            text: ``,
            attachTo: {
                element: '.logo-pic',
                on: 'bottom'
            },
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ],
            id: 'creating'
        });

        tour.addStep({
            title: 'Here you can manage your community',
            text: ``,
            attachTo: {
                element: '.community',
                on: 'bottom'
            },
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ],
            id: 'creating'
        });

        tour.addStep({
            title: 'Here you can manage your tasks and companies',
            text: ``,
            attachTo: {
                element: '.management',
                on: 'bottom'
            },
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ],
            id: 'creating'
        });

        tour.addStep({
            title: 'Find your settings page here',
            text: ``,
            attachTo: {
                element: '.settings',
                on: 'bottom'
            },
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ],
            id: 'creating'
        });

        tour.addStep({
            title: 'Your profile is here',
            text: ``,
            attachTo: {
                element: '.profile',
                on: 'bottom'
            },
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        return this.next();
                    },
                    text: 'Next'
                }
            ],
            id: 'creating'
        });

        tour.addStep({
            title: 'Finally you can logout by clicking here',
            text: ``,
            attachTo: {
                element: '.logout',
                on: 'bottom'
            },
            buttons: [
                {
                    action() {
                        return this.back();
                    },
                    classes: 'shepherd-button-secondary',
                    text: 'Back'
                },
                {
                    action() {
                        changeTour()
                        return this.complete();
                    },
                    text: 'Done'
                }
            ],
            id: 'creating'
        });


    </script>

    <% if (locals.user.doneTour==false) { %>
        <script>
            tour.start();
        </script>


        <script>
            function changeTour() {
                $.ajax({
                    url: `http://localhost:3000/api/users/changeTourStatus`,
                    type: 'POST',
                    success: function (result) {
                        console.log(result)
                    },
                    error: function (result) {
                        console.log(result.responseText)
                    },
                });
            }
        </script>

        <% } %>

            <%- include('../partials/footer') %>
